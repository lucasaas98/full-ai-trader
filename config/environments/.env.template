# AI Trading System Environment Configuration Template
# Copy this file to .env.development, .env.staging, or .env.production
# and configure the values for your specific environment

# =============================================================================
# ENVIRONMENT IDENTIFICATION
# =============================================================================
ENVIRONMENT=development
NODE_ENV=development

# =============================================================================
# DATABASE CONFIGURATION
# =============================================================================
DB_HOST=postgres
DB_PORT=5432
DB_NAME=trading_system
DB_USER=trader
DB_PASSWORD=your_secure_db_password_here
DB_SSL_MODE=prefer
DB_POOL_MIN_SIZE=5
DB_POOL_MAX_SIZE=20
DB_COMMAND_TIMEOUT=30
DB_QUERY_TIMEOUT=30

# =============================================================================
# REDIS CONFIGURATION
# =============================================================================
REDIS_HOST=redis
REDIS_PORT=6379
REDIS_PASSWORD=your_redis_password_here
REDIS_DB=0
REDIS_MAX_CONNECTIONS=50
REDIS_TIMEOUT=10

# =============================================================================
# API KEYS AND EXTERNAL SERVICES
# =============================================================================
# Market Data APIs
TWELVE_DATA_API_KEY=your_twelve_data_api_key_here
FINVIZ_API_KEY=your_finviz_api_key_here
ALPHA_VANTAGE_API_KEY=your_alpha_vantage_api_key_here

# Trading Broker APIs
ALPACA_API_KEY=your_alpaca_api_key_here
ALPACA_SECRET_KEY=your_alpaca_secret_key_here
ALPACA_BASE_URL=https://paper-api.alpaca.markets
ALPACA_DATA_URL=https://data.alpaca.markets
ALPACA_PAPER_TRADING=true

# Alternative brokers (if using)
INTERACTIVE_BROKERS_HOST=127.0.0.1
INTERACTIVE_BROKERS_PORT=7497
INTERACTIVE_BROKERS_CLIENT_ID=1

# =============================================================================
# RISK MANAGEMENT SETTINGS
# =============================================================================
RISK_MAX_POSITION_SIZE=0.05
RISK_MAX_PORTFOLIO_RISK=0.02
RISK_DRAWDOWN_LIMIT=0.15
RISK_MAX_DAILY_LOSS=0.03
RISK_MAX_CORRELATION=0.7
RISK_VaR_CONFIDENCE=0.95
RISK_STRESS_TEST_ENABLED=true

# =============================================================================
# TRADING SETTINGS
# =============================================================================
TRADING_ENABLED=true
TRADING_MODE=paper
TRADING_SESSION_START=09:30
TRADING_SESSION_END=16:00
TRADING_TIMEZONE=America/New_York
TRADING_ALLOWED_SYMBOLS=SPY,QQQ,AAPL,MSFT,GOOGL,TSLA,NVDA,META,AMZN,NFLX
TRADING_MIN_TRADE_SIZE=100
TRADING_MAX_TRADE_SIZE=10000

# =============================================================================
# STRATEGY CONFIGURATION
# =============================================================================
STRATEGY_ENABLED_STRATEGIES=momentum,mean_reversion,breakout
STRATEGY_DEFAULT_TIMEFRAME=1h
STRATEGY_LOOKBACK_PERIOD=100
STRATEGY_CONFIDENCE_THRESHOLD=0.7
STRATEGY_MAX_POSITIONS=10
STRATEGY_REBALANCE_FREQUENCY=daily

# =============================================================================
# SCHEDULER CONFIGURATION
# =============================================================================
SCHEDULER_MARKET_DATA_INTERVAL=60
SCHEDULER_STRATEGY_INTERVAL=300
SCHEDULER_RISK_CHECK_INTERVAL=60
SCHEDULER_PORTFOLIO_UPDATE_INTERVAL=300
SCHEDULER_BACKUP_INTERVAL=3600
SCHEDULER_HEALTH_CHECK_INTERVAL=30

# =============================================================================
# LOGGING CONFIGURATION
# =============================================================================
LOG_LEVEL=INFO
LOG_FORMAT=json
LOG_FILE_ENABLED=true
LOG_FILE_PATH=/app/logs
LOG_FILE_MAX_SIZE=100MB
LOG_FILE_BACKUP_COUNT=10
LOG_CONSOLE_ENABLED=true
LOG_STRUCTURED=true

# =============================================================================
# MONITORING AND METRICS
# =============================================================================
METRICS_ENABLED=true
METRICS_PORT=9090
PROMETHEUS_ENDPOINT=http://prometheus:9090
GRAFANA_URL=http://grafana:3000
GRAFANA_USER=admin
GRAFANA_PASSWORD=your_grafana_password_here

# =============================================================================
# NOTIFICATION SETTINGS
# =============================================================================
GOTIFY_URL=http://your-gotify-server:80
GOTIFY_TOKEN=your_gotify_token_here
GOTIFY_ENABLED=true

# Email notifications (optional)
EMAIL_ENABLED=false
EMAIL_SMTP_HOST=smtp.gmail.com
EMAIL_SMTP_PORT=587
EMAIL_USERNAME=your_email@example.com
EMAIL_PASSWORD=your_app_password_here
EMAIL_FROM=trading-system@example.com
EMAIL_TO=admin@example.com

# Slack notifications (optional)
SLACK_ENABLED=false
SLACK_WEBHOOK_URL=https://hooks.slack.com/services/YOUR/SLACK/WEBHOOK

# =============================================================================
# SECURITY SETTINGS
# =============================================================================
# API Security
API_SECRET_KEY=your_super_secret_api_key_here_min_32_chars
API_ALGORITHM=HS256
API_ACCESS_TOKEN_EXPIRE_MINUTES=1440
API_RATE_LIMIT_PER_MINUTE=100

# JWT Settings
JWT_SECRET_KEY=your_jwt_secret_key_here_min_32_chars
JWT_ALGORITHM=HS256
JWT_EXPIRE_MINUTES=60

# CORS Settings
CORS_ORIGINS=http://localhost:3000,http://localhost:8080
CORS_ALLOW_CREDENTIALS=true

# =============================================================================
# BACKUP CONFIGURATION
# =============================================================================
BACKUP_ENABLED=true
BACKUP_INTERVAL_HOURS=24
BACKUP_RETENTION_DAYS=30
BACKUP_S3_ENABLED=false
BACKUP_S3_BUCKET=your-backup-bucket
BACKUP_S3_REGION=us-east-1
BACKUP_S3_ACCESS_KEY=your_s3_access_key
BACKUP_S3_SECRET_KEY=your_s3_secret_key

# Local backup settings
BACKUP_LOCAL_PATH=/app/data/backups
BACKUP_COMPRESS=true
BACKUP_ENCRYPT=false
BACKUP_ENCRYPTION_KEY=your_backup_encryption_key_here

# =============================================================================
# DATA STORAGE SETTINGS
# =============================================================================
DATA_STORAGE_PATH=/app/data
PARQUET_STORAGE_PATH=/app/data/parquet
PARQUET_COMPRESSION=snappy
PARQUET_BATCH_SIZE=10000

# Data retention
DATA_RETENTION_DAYS=365
DATA_CLEANUP_ENABLED=true
DATA_CLEANUP_INTERVAL_HOURS=24

# =============================================================================
# FEATURE FLAGS
# =============================================================================
FEATURE_PAPER_TRADING=true
FEATURE_LIVE_TRADING=false
FEATURE_BACKTESTING=true
FEATURE_ML_STRATEGIES=true
FEATURE_OPTIONS_TRADING=false
FEATURE_CRYPTO_TRADING=false
FEATURE_FOREX_TRADING=false

# =============================================================================
# PERFORMANCE SETTINGS
# =============================================================================
# Service resource limits
MEMORY_LIMIT_MB=1024
CPU_LIMIT_CORES=2
WORKER_PROCESSES=1
WORKER_THREADS=4

# Cache settings
CACHE_TTL_MARKET_DATA=300
CACHE_TTL_STRATEGIES=1800
CACHE_TTL_RISK_ASSESSMENTS=600
CACHE_TTL_PORTFOLIO=300

# =============================================================================
# DEVELOPMENT SETTINGS (development environment only)
# =============================================================================
DEBUG=true
RELOAD_ON_CHANGE=true
PROFILING_ENABLED=false
TESTING_MODE=false

# Mock external services for development
MOCK_ALPACA_API=false
MOCK_MARKET_DATA=false
MOCK_NOTIFICATIONS=false

# =============================================================================
# STAGING SETTINGS (staging environment only)
# =============================================================================
# Use paper trading URLs for staging
# ALPACA_BASE_URL=https://paper-api.alpaca.markets
# ALPACA_DATA_URL=https://data.alpaca.markets

# =============================================================================
# PRODUCTION SETTINGS (production environment only)
# =============================================================================
# Use live trading URLs for production (when ready)
# ALPACA_BASE_URL=https://api.alpaca.markets
# ALPACA_DATA_URL=https://data.alpaca.markets
# ALPACA_PAPER_TRADING=false

# Production security settings
# HSTS_ENABLED=true
# HTTPS_ONLY=true
# SECURE_COOKIES=true

# =============================================================================
# MONITORING AND ALERTING
# =============================================================================
# Health check settings
HEALTH_CHECK_ENABLED=true
HEALTH_CHECK_INTERVAL=30
HEALTH_CHECK_TIMEOUT=10
HEALTH_CHECK_RETRIES=3

# Alert thresholds
ALERT_HIGH_MEMORY_THRESHOLD=0.8
ALERT_HIGH_CPU_THRESHOLD=0.8
ALERT_LOW_DISK_SPACE_THRESHOLD=0.1
ALERT_MAX_RESPONSE_TIME=5000

# Portfolio alerts
ALERT_MAX_DRAWDOWN_THRESHOLD=0.1
ALERT_DAILY_LOSS_THRESHOLD=0.05
ALERT_POSITION_SIZE_THRESHOLD=0.1

# =============================================================================
# MAINTENANCE SETTINGS
# =============================================================================
MAINTENANCE_MODE=false
MAINTENANCE_MESSAGE="System is under maintenance"
MAINTENANCE_ESTIMATED_DURATION=30
MAINTENANCE_ALLOWED_IPS=127.0.0.1,::1

# Auto-maintenance settings
AUTO_MAINTENANCE_ENABLED=false
AUTO_MAINTENANCE_TIME=02:00
AUTO_MAINTENANCE_TIMEZONE=UTC
AUTO_MAINTENANCE_MAX_DURATION=60

# =============================================================================
# EXPORT AND REPORTING
# =============================================================================
EXPORT_ENABLED=true
EXPORT_PATH=/app/data/exports
EXPORT_RETENTION_DAYS=90
EXPORT_MAX_FILE_SIZE=100MB
EXPORT_TRADENOTE_ENABLED=true
EXPORT_TAX_REPORTING_ENABLED=true

# =============================================================================
# RATE LIMITING
# =============================================================================
RATE_LIMIT_ENABLED=true
RATE_LIMIT_REQUESTS_PER_MINUTE=60
RATE_LIMIT_REQUESTS_PER_HOUR=1000
RATE_LIMIT_REQUESTS_PER_DAY=10000
RATE_LIMIT_BURST_SIZE=10

# API-specific rate limits
RATE_LIMIT_MARKET_DATA_RPM=30
RATE_LIMIT_TRADING_RPM=10
RATE_LIMIT_EXPORT_RPM=5

# =============================================================================
# AUDIT AND COMPLIANCE
# =============================================================================
AUDIT_ENABLED=true
AUDIT_LOG_ALL_REQUESTS=false
AUDIT_LOG_TRADES=true
AUDIT_LOG_RISK_EVENTS=true
AUDIT_LOG_CONFIGURATION_CHANGES=true
AUDIT_RETENTION_DAYS=2555  # 7 years for compliance

# =============================================================================
# TIMEZONE AND LOCALIZATION
# =============================================================================
DEFAULT_TIMEZONE=UTC
MARKET_TIMEZONE=America/New_York
DISPLAY_TIMEZONE=America/New_York
DATE_FORMAT=%Y-%m-%d
TIME_FORMAT=%H:%M:%S
DATETIME_FORMAT=%Y-%m-%d %H:%M:%S

# =============================================================================
# ADVANCED CONFIGURATION
# =============================================================================
# Circuit breaker settings
CIRCUIT_BREAKER_ENABLED=true
CIRCUIT_BREAKER_FAILURE_THRESHOLD=5
CIRCUIT_BREAKER_RECOVERY_TIMEOUT=60
CIRCUIT_BREAKER_TIMEOUT=30

# Retry settings
RETRY_MAX_ATTEMPTS=3
RETRY_BACKOFF_FACTOR=2
RETRY_MAX_DELAY=60

# WebSocket settings
WEBSOCKET_ENABLED=true
WEBSOCKET_HEARTBEAT_INTERVAL=30
WEBSOCKET_MAX_CONNECTIONS=100

# =============================================================================
# CUSTOM CONFIGURATION
# =============================================================================
# Add any custom configuration variables below
# CUSTOM_SETTING_1=value1
# CUSTOM_SETTING_2=value2
